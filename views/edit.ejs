<nav class="navbar navbar-expand-lg navbar-light bg-light">

    <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav mr-auto">
            <!-- <li class="nav-item active">
                            <a class="nav-link" href="#">Queue<span class="sr-only">(current)</span></a>
                        </li> -->
            <li class="nav-item active">
                <a href="/posts/create" class="btn btn-success right">new</a>
            </li>
            <li class="nav-item">
                <a class="btn btn-light" href="/posts/archive">archive</a>
            </li>
            <li class="nav-item">
                <a class="btn btn-light" href="/posts/liked">likes</a>
            </li>
        </ul>
    </div>
</nav>
<br><br>
<h5 style="text-align: center; margin-bottom: 20px; color: grey">[ edit ] </h5>

<form action="/posts/<%=post._id%>/?_method=put" method="POST" style="text-align: center;">
    <div class="form-group" style="display: none;">
        <input type="text" id="Like" name="Like" class="form-control" value="<%=post.Like%>" autocomplete="off">
    </div>
    <div class="form-group" style="display:inline-block;margin-left: 10px; margin-right: 30px;">
        <label for="Like">like</label>
        <input id="Likecheckbox" type="checkbox" id="x" name="x" style="width: 40px; height: 40px;" class="form-control" 
        <% if (post.Like==="true" ) {%>
        checked
        <% } %>>
            
    </div>
    <div class="form-group" style="display: none;">
        <input type="text" id="Archived" name="Archived" class="form-control" value="<%=post.Archived%>" autocomplete="off">
    </div>
    <div class="form-group" style="display:inline-block;">
        <label for="Archived">archive</label>
        <input id="Archivedcheckbox" type="checkbox" id="x" style="width: 40px; height: 40px;" name="x" class="form-control"
            <% if (post.Archived==="true" ) {%>
        checked
        <% } %>>
    </div>
    <div class="form-group row mx-sm-5 mb-2">
            <input placeholder="song" type="text" id="Song" name="Song" class="form-control" value="<%=post.Song%>"autocomplete="off">
    </div>
    <div class="form-group row mx-sm-5 mb-2">
        <input placeholder="artist" type="text" id="Artist" name="Artist" class="form-control" value="<%=post.Artist%>"autocomplete="off">
    </div>
    <div class="form-group row mx-sm-5 mb-2">
        <input placeholder="Author" type="text" id="Author" name="Author" class="form-control" value="<%=post.Author%>"autocomplete="off">
    </div>
    <div class="form-group row mx-sm-5 mb-2">
        <input placeholder="genre"type="text" id="Genre" name="Genre" class="form-control" value="<%=post.Genre%>" autocomplete="off">
    </div>
    <div class="form-group row mx-sm-5 mb-2">
        <input placeholder="link"type="text" id="Link" name="Link" class="form-control" value="<%=post.Link%>"autocomplete="off">
    </div>
    <div class="form-group row mx-sm-5 mb-2">
        <input placeholder="album" type="text" id="Album" name="Album" class="form-control" value="<%=post.Album%>" autocomplete="off">
    </div>
    <div class="form-group row mx-sm-5 mb-2">
        <input placeholder="notes" type="text" id="Notes" name="Notes" class="form-control" value="<%=post.Notes%>"autocomplete="off">
    </div>

    
    <div  style="display: flex; text-align: center; justify-content: center;">
    <input type="submit" value="Update Post" class="btn btn-primary";/>
    <a href="/posts" style="margin-left: 10px;"class="btn btn-secondary">Cancel</a>
    </div>
</form>
<script>
    let archived = document.querySelector("#Archived")
    let like = document.querySelector("#Like")
    let archivedCheck = document.querySelector("#Archivedcheckbox")
    let likeCheck = document.querySelector("#Likecheckbox")

    function runCheckedArchive(checkbox) {
        if (checkbox.checked) {
            archived.value = "true"
        } else if (!checkbox.checked) {
            archived.value = "false"
        }
    }
    archivedCheck.addEventListener('change', function () {
        if (this.checked) {
            console.log("Checkbox is checked");
            runCheckedArchive(this)
        } else {
            console.log("Checkbox is not checked");
            runCheckedArchive(this)
        }
    });
    ;
    function runCheckedLike(checkbox) {
        if (checkbox.checked) {
            like.value = "true"
        } else if (!checkbox.checked) {
            like.value = "false"
        }
    }
    likeCheck.addEventListener('change', function () {
        if (this.checked) {
            console.log("Checkbox is checked");
            runCheckedLike(this)
        } else {
            console.log("Checkbox is not checked");
            runCheckedLike(this)
        }
    });
    ;

</script>